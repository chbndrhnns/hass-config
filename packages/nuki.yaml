lock:
  - platform: nuki
    host: !secret nuki_bridge
    token: !secret nuki_token


script:
  lock_door:
    alias: Lock door
    sequence:
      - service: lock.lock
        data:
          entity_id: lock.home

  unlock_door:
    alias: Unlock door
    sequence:
      - service: lock.unlock
        data:
          entity_id: lock.home

  lock_n_go:
    alias: Lock'n'go
    sequence:
      - delay:
          seconds: 15
      - service: lock.lock
        data:
          entity_id: lock.home


automation:
  - alias: Door has been locked
    trigger:
      - platform: state
        entity_id: lock.home
        to: 'locked'
    action:
      - service: notify.html5
        data:
          message: "Front door has been locked"

  - alias: Door has been unlocked
    trigger:
      - platform: state
        entity_id: lock.home
        to: 'unlocked'
    action:
      - service: notify.html5
        data:
          message: "Front door has been unlocked"

# vim: set filetype=yaml et sw=2 ts=2 :
